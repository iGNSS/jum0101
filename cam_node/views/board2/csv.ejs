<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1.0"/>
    <meta http-equiv="X-UA-Compatible" content="ie=edge"/>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@2.8.0/dist/Chart.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/5.7.0/d3.min.js"></script>
    <title>Document</title>
 </head>
 <body>
  <canvas id="chart" width="400" height="400"></canvas>
  <script>
    
    chartIt();
    async function chartIt(){
        const data = await getData();
        const ctx = document.getElementById('chart').getContext('2d');
        const myChart = new Chart(ctx,{
            type:'line',
            data{
            labels:data.xl,
            datasets:[
                {
                    label: 'combinde'
                    data:data.yl,
                    fill:false,
                    backgroundColor: 'rgba(255,99,132,0.2)',
                    borderColor:'rgba(255,99,132,1)',
                    borderWidth:1
                }
            ]
        
            }
        });
    }
    getData();
    async function getData(){
        const xl = [];
        const yl = [];
        const reponse = await fetch('/11/11.csv');
        const data = await response.text();
        const table = data.split('\n').slice(1);
        table.forEach(row=>{
            const columns = row.split(',');
            const year = columns[0];
            xl.push(year);
            const temp = colums[1];
            yl.push(temp);
            console.log(year,temp);
        });
        return{xl,yl}
    }

  </script>
 </body>
</html>